/*
 rRDFj.js - Reduced RDF as JSON library
Copyright (c) 2012 WIllow Systems Corporation (www.willow-systems.com)
"MIT" License
https://github.com/willowsystems/rRDFj.js
*/
(function(){var e=function(c){var d={},e=function(a,b){var d=[],f;c.each(this,function(b,c){f=this[c][a];null!==f&&d.push(f)},this);return 0===d.length?b:c(d).chain().flatten().uniq().value()},g=function(a){c.each(this,a,this);return this},h=function(a){return c.map(this,a,this)},i=function(a){var b={},d;if(null==a)return b;if("function"===typeof a)d=a;else if(c.isArray(a))d=function(d,b){return-1!==c.indexOf(a,b)};else if("object"===typeof a){var f=c.keys(null!=a.data?a.data:a).sort();d=function(a,
b){return-1!==c.indexOf(f,b,!0)}}else{var e=this[a];if(null===e)return{};b[a]=e;return b}c.each(this,function(a,c,e){d.call(this,a,c,e)&&(b[c]=this[c])},this);return b},j=function(a){var b=c.keys(this);return 0===b.length?null==a?{}:a:this[b[0]]};d.filter=function(a){return new this.constructor(i.call(this.data,a))};d.each=function(a){g.call(this.data,a);return this};d.single=function(a){return j.call(this.data,a)};d.valuesfor=function(a){return e.call(this.data,a)};d.map=function(a){return h.call(this.data,
a)};var k=function(a){var b;this.data=a===b?{}:a;for(b in d)d.hasOwnProperty(b)&&(this[b]=d[b])};return function(a){return new k(a)}};if("function"===typeof define&&null!=define.amd)define(["underscore"],function(c){return e(c)});else{if(null==this._||null==this._.each||null==this._.map||null==this._.filter)throw Error("rRDFj requires Underscore.js for some of its functionality. Underscore is not detected. rRDFj Failing to initialize...");this.rRDFj=e(this._)}}).call("undefined"!==typeof window?window:
this);