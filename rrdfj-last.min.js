/*
 Copyright (c) 2012 WIllow Systems Corporation (www.willow-systems.com) ("MIT License") */
(function(){var f=function(c){var f=function(a,b){var e=[],d;c.each(this,function(b,c){d=this[c][a];null!==d&&e.push(d)},this);return 0===e.length?b:c(e).chain().flatten().uniq().value()},g=function(a){c.each(this,a,this);return this},h=function(a){return c.map(this,a,this)},i=function(a){var b={},e;if(null==a)return b;if("function"===typeof a)e=a;else if(c.isArray(a))e=function(b,d){return-1!==c.indexOf(a,d)};else if("object"===typeof a){var d=c.keys(null!=a.data?a.data:a).sort();e=function(a,b){return-1!==
c.indexOf(d,b,!0)}}else{var f=this[a];if(null===f)return{};b[a]=f;return b}c.each(this,function(a,d,c){e.call(this,a,d,c)&&(b[d]=this[d])},this);return b},j=function(a){var b=c.keys(this);return 0===b.length?null==a?{}:a:this[b[0]]},k=function(a){var b=this,c=this.constructor;this.data=a;this.filter=function(a){return new c(i.call(b.data,a))};this.each=function(a){g.call(b.data,a);return b};this.single=function(a){return j.call(b.data,a)};this.valuesfor=function(a){return f.call(b.data,a)};this.map=
function(a){return h.call(b.data,a)}};return function(a){return new k(a)}};if("function"===typeof define&&null!=define.amd)define(["underscore"],function(c){return f(c)});else{if(null==this._||null==this._.each||null==this._.map||null==this._.filter)throw Error("rRDFj requires Underscore.js for some of its functionality. Underscore is not detected. rRDFj Failing to initialize...");this.rRDFj=f(this._)}}).call("undefined"!==typeof window?window:this);
